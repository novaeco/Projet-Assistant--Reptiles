menu "Board configuration"

config BOARD_BATTERY_RAW_FULL
    int "Battery ADC full-scale raw value"
    range 1 255
    default 255
    help
        Raw 8-bit value reported on IO7 by the CH32V003 expander when the battery
        is at 100% charge. Used to scale the battery percentage in board_get_battery_level.

config BOARD_BATTERY_RAW_EMPTY
    int "Battery ADC empty raw value"
    range 0 254
    default 0
    help
        Raw 8-bit value reported on IO7 by the CH32V003 expander when the battery
        is considered empty. Used as the lower bound for percentage scaling.

config BOARD_SD_HOLD_CS_LOW_DIAG
    bool "Force SD CS low during SDSPI init (diagnostic)"
    default n
    help
        Hold EXIO4 (SD_CS via CH422G) low throughout SDSPI initialisation and
        transactions. Useful for diagnosing CS gating/timeout issues coming from
        the IO expander. Disable for normal operation.

config BOARD_REQUIRE_CH422G
    bool "Abort boot if CH422G IO expander is missing"
    default n
    help
        When enabled, the firmware aborts at boot if the CH422G IO expander
        does not acknowledge all expected I2C addresses or if initialization
        (SYS_PARAM write, output staging) fails. When disabled (default),
        the system degrades gracefully and disables peripherals that rely on
        the expander (touch, SD, backlight PWM, battery sense).

endmenu
